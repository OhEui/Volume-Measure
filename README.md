# Volume Measure

- **ë¬¼ì²´ì˜ ì²´ì  ì •ë³´ ì¸¡ì • ( ì œí•œì‚¬í•­ ìµœì†Œí™”, ì˜¤ì°¨ë²”ìœ„ 5mm ì´ë‚´ )**
- ë§ˆíŠ¸ë‚˜ í¸ì˜ì ì˜ ë¬¼ê±´ ì ì œì— í•„ìš”í•œ ì²´ì  ì •ë³´ ì¸¡ì •
![image](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/10ba33dd-c53a-46d3-a444-a24aae27e276/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221101T103242Z&X-Amz-Expires=86400&X-Amz-Signature=a3aee6a3a6b505f4c1d22ab545adefa729ab8c1f79c16664cfa04bd067fedb1a&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject)


# ğŸ“ Summary

ë§ˆíŠ¸ë‚˜ í¸ì˜ì ì—ì„œëŠ” ë§ì€ ìƒí’ˆë“¤ì„ íš¨ê³¼ì ìœ¼ë¡œ ì§„ì—´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ë”°ë¼ì„œ í•´ë‹¹ í”„ë¡œì íŠ¸ê°€ ìœ í†µ ë°›ì€ ë¬¼ì²´ë“¤ì˜ ì²´ì  ì •ë³´ë“¤ì„ ì¦‰ì‹œ ì¸¡ì •í•˜ê³  í•´ë‹¹ ì •ë³´ë“¤ë¡œ ìµœì ì˜ ì§„ì—´ ë°©ë²•ì„ ì°¾ì„ ìˆ˜ ìˆëŠ” ë°”íƒ•ì´ ë  ê²ƒì…ë‹ˆë‹¤. ë”ë¶ˆì–´ íƒë°° ìƒí•˜ì°¨ ê³¼ì •ì—ì„œ íƒë°° ì°¨ëŸ‰ì— ê°€ì¥ ë§ì€ ìƒí’ˆì„ íš¨ê³¼ì ìœ¼ë¡œ ì ì¬í•˜ëŠ” ë°©ë²• ë“± ë‹¤ì–‘í•œ ìœ í†µ ì‚°ì—…ì— ì´ìš© ê°€ëŠ¥í•  ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ì„¼ì„œë‚˜ ì—¬ëŸ¬ ëŒ€ì˜ ì¹´ë©”ë¼ë“¤ì´ í•„ìš”ì—†ì´ ë‹¨ì•ˆ ì¹´ë©”ë¼ë¡œ ì¸¡ì •í•˜ê¸° ë•Œë¬¸ì— ì„¤ì¹˜ ë‹¨ê°€ì—ì„œë„ ìœ ë¦¬í•  ê²ƒìœ¼ë¡œ ì˜ˆì¸¡ ë©ë‹ˆë‹¤.

# â­ï¸ Key Function

- **ë‹¨ì•ˆ ì¹´ë©”ë¼**
    - ë‹¤ë¥¸ í•˜ë“œì›¨ì–´ì ì¸ ë„ì›€ì—†ì´ í•˜ë‚˜ì˜ ì¹´ë©”ë¼ ë§Œìœ¼ë¡œ ì²´ì  ì •ë³´ë¥¼ ì¸¡ì •
- **ë¬¼ì²´ í˜•íƒœì˜ ì¢…ë¥˜**
    - ì§ìœ¡ë©´ì²´ì™€ ì›ê¸°ë‘¥ í˜•íƒœë§Œ ì¸¡ì •ê°€ëŠ¥
    - ìƒí•˜ì°¨ ì‹œìŠ¤í…œì—ì„œëŠ” ëŒ€ë¶€ë¶„ ì§ìœ¡ë©´ì²´ì˜ ë°•ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ë¬¸ì œê°€ ì—†ì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒ
    - í¸ì˜ì ê³¼ ë§ˆíŠ¸ì˜ ê²½ìš° ë†’ì´ë¬¸ì œë³´ë‹¤ëŠ” ê°€ë¡œ ì„¸ë¡œì˜ ì¤‘ìš”ì„±ì´ ë” í¬ë¯€ë¡œ ìƒì´í•  ê²ƒìœ¼ë¡œ ì˜ˆìƒ

# **Calibration.npz íŒŒì¼ ìƒì„± ë°©ë²•**

[final_make_calibraton.py]ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ê¸° ìœ„í•´ì„  ì•„ë˜ì™€ ê°™ì´ ê³¼ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.

ì¶”ê°€ì ì¸ ì •ë³´ëŠ” ì•„ë˜ ë§í¬ë¥¼ ì°¸ì¡°í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

[[OpenCV] 07-1. Camera Calibration â€” ì°¸ì‹ ëŸ¬ë‹ (Fresh-Learning) (tistory.com)](https://leechamin.tistory.com/345)

### ì²´ì»¤ë³´ë“œë¥¼ ë“¤ê³  ìˆëŠ” ì‚¬ì§„

[Camera Calibration Pattern Generator â€“ calib.io](https://calib.io/pages/camera-calibration-pattern-generator)

# ì‚¬ìš© ë°©ë²•

```python
import glob
from volume_measure import volumetric

main_path = "."
calibration_path = main_path + "/calibration" + "/cs_(8, 5)_rd_3_te_0.06_rs_4.npz"

hexahedron = glob.glob(main_path + "/hexahedron/*.jpg")
cylinder = glob.glob(main_path + "/cylinder/*.jpg")

images = hexahedron + cylinder

for fname in images:
    try:
        test = volumetric(fname, calibration_path)
        test.set_init()
        test.set_npz_values()

        # 1. ë°°ê²½ì œê±°
        test.remove_background()

        # 2. ë¬¼ì²´ ê¼­ì§€ì  ì°¾ê¸°
        test.find_vertex(draw=False)
        test.fix_vertex()

        test.trans_checker_stand_coor()
        test.set_transform_matrix()

        # 3. ê°€ë¡œì„¸ë¡œ êµ¬í•˜ê¸°
        test.measure_width_vertical()

        # 4. ë†’ì´ êµ¬í•˜ê¸°
        test.measure_height(draw=True)

        # ì´ë¯¸ì§€ì— ìµœì ì •ë³´ë“¤ì„ ê·¸ë¦¬ê¸°
        test.draw_image()

        test.show_image(test.img, "Result Image")
        cv2.waitKey()

        cv2.destroyAllWindows()
    except:
        continue
```


# ğŸ“· Screenshot(result) 
- ë‹¨ìœ„ : cm
- hexahedron
![image](https://drive.google.com/uc?export=view&id=16XEimDh3hfWV0f0Ds8dpFusU5i7LtNC8)
- cylinder
![image](https://drive.google.com/uc?export=view&id=1bW5UwwkYER18Mismg6gOChcaaZMl_qUW)

## ****References****

- **Rembg**:[https://github.com/danielgatis/rembg](https://github.com/danielgatis/rembg)
- **Opencv_Calibration**:[https://docs.opencv.org/4.x/dc/dbb/tutorial_py_calibration.html](https://docs.opencv.org/4.x/dc/dbb/tutorial_py_calibration.html)
- **ORB**:[https://docs.opencv.org/3.4/d1/d89/tutorial_py_orb.html](https://docs.opencv.org/3.4/d1/d89/tutorial_py_orb.html)

### **License**

Copyright (c) 2022 Yeardream-Power-4-team

Please contact me gomugomutree@gmail.com if you need help
